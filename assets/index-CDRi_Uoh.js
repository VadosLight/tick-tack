import{r as e}from"./rolldown-runtime-DGruFWvd.js";import{a as t,c as n,i as r,n as i,o as a,r as o,s,t as c}from"./vendor-DAavWMwA.js";import"./three-CBICqMjy.js";(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();var l=e(s()),u=e(n()),d=e(a());const f=e=>{for(let t=0;t<3;t++)if(e[t][0]&&e[t][0]===e[t][1]&&e[t][1]===e[t][2])return e[t][0];for(let t=0;t<3;t++)if(e[0][t]&&e[0][t]===e[1][t]&&e[1][t]===e[2][t])return e[0][t];return e[0][0]&&e[0][0]===e[1][1]&&e[1][1]===e[2][2]?e[0][0]:e[0][2]&&e[0][2]===e[1][1]&&e[1][1]===e[2][0]?e[0][2]:null},p=e=>e.every(e=>e.every(e=>e!==null)),m=e=>{let t=[];for(let n=0;n<3;n++)for(let r=0;r<3;r++)e[n][r]===null&&t.push({row:n,col:r});return t},h=(e,t,n,r,i)=>{let a=f(e);if(a===r)return 10-t;if(a===i)return t-10;if(p(e))return 0;if(n){let n=-1/0,a=m(e);for(let o of a){let a=e.map(e=>[...e]);a[o.row][o.col]=r;let s=h(a,t+1,!1,r,i);n=Math.max(s,n)}return n}else{let n=1/0,a=m(e);for(let o of a){let a=e.map(e=>[...e]);a[o.row][o.col]=i;let s=h(a,t+1,!0,r,i);n=Math.min(s,n)}return n}},g=(e,t)=>{let n=t===`X`?`O`:`X`,r=m(e);if(r.length===0)throw Error(`Нет доступных ходов`);let i=r[0],a=-1/0;for(let o of r){let r=e.map(e=>[...e]);r[o.row][o.col]=t;let s=h(r,0,!1,t,n);s>a&&(a=s,i=o)}return i},_=e=>{let t=m(e);if(t.length===0)throw Error(`Нет доступных ходов`);if(Math.random()<.7){let e=Math.floor(Math.random()*t.length);return t[e]}else return g(e,`O`)},v=e=>{let t=m(e);if(t.length===0)throw Error(`Нет доступных ходов`);if(Math.random()<.3){let e=Math.floor(Math.random()*t.length);return t[e]}else return g(e,`O`)},y=(e,t,n)=>{let r=(0,d.c)(7),i=t===void 0?.5:t,a=n===void 0?!1:n,o=(0,u.useRef)(null),s;r[0]!==a||r[1]!==e||r[2]!==i?(s=()=>{o.current||(o.current=new Audio(e),o.current.volume=i,o.current.loop=a),o.current.currentTime=0,o.current.play().catch(b)},r[0]=a,r[1]=e,r[2]=i,r[3]=s):s=r[3];let c=s,l;r[4]===Symbol.for(`react.memo_cache_sentinel`)?(l=()=>{o.current&&(o.current.pause(),o.current.currentTime=0)},r[4]=l):l=r[4];let f=l,p;return r[5]===c?p=r[6]:(p={play:c,stop:f},r[5]=c,r[6]=p),p};function b(e){console.log({error:`Не удалось воспроизвести звук`,details:e})}var x=`/tick-tack/assets/smash-D6aHDDEU.mp3`,S=e(a()),C=e(t());const w=e=>{let t=(0,S.c)(24),{position:n,value:r,onClick:i}=e,a=(0,u.useRef)(null),[o,s]=(0,u.useState)(!1),[c,l]=(0,u.useState)(null),{play:d}=y(x,.3,!1),f,p;t[0]!==d||t[1]!==c||t[2]!==r?(f=()=>{r&&!c&&d(),l(r)},p=[r,c,d],t[0]=d,t[1]=c,t[2]=r,t[3]=f,t[4]=p):(f=t[3],p=t[4]),(0,u.useEffect)(f,p);let m,h,g;t[5]===Symbol.for(`react.memo_cache_sentinel`)?(m=()=>s(!0),h=()=>s(!1),g=(0,C.jsx)(`boxGeometry`,{args:[.9,.1,.9]}),t[5]=m,t[6]=h,t[7]=g):(m=t[5],h=t[6],g=t[7]);let _=o?`#00d4ff`:`#1e3a5f`,v=o?`#00d4ff`:`#000000`,b=o?.3:0,w;t[8]!==_||t[9]!==v||t[10]!==b?(w=(0,C.jsx)(`meshStandardMaterial`,{color:_,emissive:v,emissiveIntensity:b,metalness:.8,roughness:.2}),t[8]=_,t[9]=v,t[10]=b,t[11]=w):w=t[11];let T;t[12]!==i||t[13]!==w?(T=(0,C.jsxs)(`mesh`,{ref:a,onClick:i,onPointerOver:m,onPointerOut:h,children:[g,w]}),t[12]=i,t[13]=w,t[14]=T):T=t[14];let E;t[15]===r?E=t[16]:(E=r===`X`&&(0,C.jsxs)(`group`,{position:[0,.05,0],rotation:[0,0,0],children:[(0,C.jsxs)(`mesh`,{rotation:[Math.PI/2,0,Math.PI/4],children:[(0,C.jsx)(`boxGeometry`,{args:[.15,.7,.15]}),(0,C.jsx)(`meshStandardMaterial`,{color:`#ff0080`,emissive:`#ff0080`,emissiveIntensity:.2,metalness:.3,roughness:.4})]}),(0,C.jsxs)(`mesh`,{rotation:[Math.PI/2,0,-Math.PI/4],children:[(0,C.jsx)(`boxGeometry`,{args:[.15,.7,.15]}),(0,C.jsx)(`meshStandardMaterial`,{color:`#ff0080`,emissive:`#ff0080`,emissiveIntensity:.2,metalness:.3,roughness:.4})]})]}),t[15]=r,t[16]=E);let D;t[17]===r?D=t[18]:(D=r===`O`&&(0,C.jsxs)(`mesh`,{position:[0,.05,0],rotation:[Math.PI/2,0,0],children:[(0,C.jsx)(`torusGeometry`,{args:[.3,.1,8,16]}),(0,C.jsx)(`meshStandardMaterial`,{color:`#00ffff`,emissive:`#00ffff`,emissiveIntensity:.2,metalness:.3,roughness:.4})]}),t[17]=r,t[18]=D);let O;return t[19]!==n||t[20]!==E||t[21]!==D||t[22]!==T?(O=(0,C.jsxs)(`group`,{position:n,children:[T,E,D]}),t[19]=n,t[20]=E,t[21]=D,t[22]=T,t[23]=O):O=t[23],O};var T=e(a());const E=e=>{let t=(0,T.c)(50),{board:n,winner:i}=e,[a,o]=(0,u.useState)(0),s,c;t[0]===i?(s=t[1],c=t[2]):(s=()=>{i&&o(0)},c=[i],t[0]=i,t[1]=s,t[2]=c),(0,u.useEffect)(s,c);let l;if(t[3]!==a||t[4]!==i?(l=e=>{if(i&&a<1){let t=Math.min(a+e.clock.getDelta()*1e3,1);o(t)}},t[3]=a,t[4]=i,t[5]=l):l=t[5],r(l),!i)return null;let d;t[6]===n?d=t[7]:(d=(()=>{for(let e=0;e<3;e++)if(n[e][0]&&n[e][0]===n[e][1]&&n[e][1]===n[e][2])return{type:`horizontal`,row:e,start:{x:-1.1,z:(e-1)*1.1},end:{x:1.1,z:(e-1)*1.1}};for(let e=0;e<3;e++)if(n[0][e]&&n[0][e]===n[1][e]&&n[1][e]===n[2][e])return{type:`vertical`,col:e,start:{x:(e-1)*1.1,z:-1.1},end:{x:(e-1)*1.1,z:1.1}};return n[0][0]&&n[0][0]===n[1][1]&&n[1][1]===n[2][2]?{type:`diagonal`,diagonal:`main`,start:{x:-1.1,z:-1.1},end:{x:1.1,z:1.1}}:n[0][2]&&n[0][2]===n[1][1]&&n[1][1]===n[2][0]?{type:`diagonal`,diagonal:`anti`,start:{x:1.1,z:-1.1},end:{x:-1.1,z:1.1}}:null})(),t[6]=n,t[7]=d);let f=d;if(!f)return null;let p=Math.sqrt((f.end.x-f.start.x)**2+(f.end.z-f.start.z)**2)*a,m;t[8]!==f.end.x||t[9]!==f.end.z||t[10]!==f.start.x||t[11]!==f.start.z?(m=Math.atan2(f.end.z-f.start.z,f.end.x-f.start.x),t[8]=f.end.x,t[9]=f.end.z,t[10]=f.start.x,t[11]=f.start.z,t[12]=m):m=t[12];let h=m,g=f.start.x+(f.end.x-f.start.x)*(1-a)/2,_=f.start.z+(f.end.z-f.start.z)*(1-a)/2,v=g+(f.end.x-g)/2,y=_+(f.end.z-_)/2,b;t[13]!==v||t[14]!==y?(b=[v,.15,y],t[13]=v,t[14]=y,t[15]=b):b=t[15];let x=-h,S;t[16]===x?S=t[17]:(S=[0,x,0],t[16]=x,t[17]=S);let w;t[18]===p?w=t[19]:(w=(0,C.jsx)(`boxGeometry`,{args:[p,.05,.05]}),t[18]=p,t[19]=w);let E=i===`X`?`#ff0080`:`#00ffff`,D=i===`X`?`#ff0080`:`#00ffff`,O=.8+a*.4,k;t[20]!==D||t[21]!==O||t[22]!==E?(k=(0,C.jsx)(`meshStandardMaterial`,{color:E,emissive:D,emissiveIntensity:O,metalness:.3,roughness:.4}),t[20]=D,t[21]=O,t[22]=E,t[23]=k):k=t[23];let A;t[24]!==k||t[25]!==S||t[26]!==w?(A=(0,C.jsxs)(`mesh`,{rotation:S,children:[w,k]}),t[24]=k,t[25]=S,t[26]=w,t[27]=A):A=t[27];let j;t[28]===Symbol.for(`react.memo_cache_sentinel`)?(j=[0,.05,0],t[28]=j):j=t[28];let M=-h,N;t[29]===M?N=t[30]:(N=[0,M,0],t[29]=M,t[30]=N);let P=p+.2*a,F;t[31]===P?F=t[32]:(F=(0,C.jsx)(`boxGeometry`,{args:[P,.02,.02]}),t[31]=P,t[32]=F);let I=i===`X`?`#ff0080`:`#00ffff`,L=.3*a,R;t[33]!==I||t[34]!==L?(R=(0,C.jsx)(`meshBasicMaterial`,{color:I,transparent:!0,opacity:L}),t[33]=I,t[34]=L,t[35]=R):R=t[35];let z;t[36]!==N||t[37]!==F||t[38]!==R?(z=(0,C.jsxs)(`mesh`,{position:j,rotation:N,children:[F,R]}),t[36]=N,t[37]=F,t[38]=R,t[39]=z):z=t[39];let B;t[40]!==h||t[41]!==a||t[42]!==p||t[43]!==i?(B=a>0&&(0,C.jsxs)(`mesh`,{position:[p/2,0,0],rotation:[0,-h,0],children:[(0,C.jsx)(`sphereGeometry`,{args:[.08*a,8,8]}),(0,C.jsx)(`meshStandardMaterial`,{color:i===`X`?`#ff0080`:`#00ffff`,emissive:i===`X`?`#ff0080`:`#00ffff`,emissiveIntensity:1.5,transparent:!0,opacity:a})]}),t[40]=h,t[41]=a,t[42]=p,t[43]=i,t[44]=B):B=t[44];let V;return t[45]!==A||t[46]!==z||t[47]!==B||t[48]!==b?(V=(0,C.jsxs)(`group`,{position:b,children:[A,z,B]}),t[45]=A,t[46]=z,t[47]=B,t[48]=b,t[49]=V):V=t[49],V};var D=e(a());const O=e=>{let t=(0,D.c)(22),{board:n,onCellClick:r,winner:i}=e,a,o,s,c,l,u,d,f,p,m;t[0]===Symbol.for(`react.memo_cache_sentinel`)?(a=(0,C.jsx)(`ambientLight`,{intensity:3,color:`#ff0080`}),o=(0,C.jsxs)(`mesh`,{position:[0,-.25,0],rotation:[-Math.PI/2,0,0],children:[(0,C.jsx)(`circleGeometry`,{args:[4.5,64]}),(0,C.jsx)(`meshBasicMaterial`,{color:`#ff0080`,transparent:!0,opacity:.015,side:2})]}),s=(0,C.jsxs)(`mesh`,{position:[0,-.22,0],rotation:[-Math.PI/2,0,0],children:[(0,C.jsx)(`circleGeometry`,{args:[3.8,64]}),(0,C.jsx)(`meshBasicMaterial`,{color:`#ff0080`,transparent:!0,opacity:.025,side:2})]}),c=(0,C.jsxs)(`mesh`,{position:[0,-.19,0],rotation:[-Math.PI/2,0,0],children:[(0,C.jsx)(`circleGeometry`,{args:[3.2,64]}),(0,C.jsx)(`meshBasicMaterial`,{color:`#ff0080`,transparent:!0,opacity:.04,side:2})]}),l=(0,C.jsxs)(`mesh`,{position:[0,-.17,0],rotation:[-Math.PI/2,0,0],children:[(0,C.jsx)(`circleGeometry`,{args:[2.6,64]}),(0,C.jsx)(`meshBasicMaterial`,{color:`#ff0080`,transparent:!0,opacity:.06,side:2})]}),u=(0,C.jsxs)(`mesh`,{position:[0,-.15,0],rotation:[-Math.PI/2,0,0],children:[(0,C.jsx)(`circleGeometry`,{args:[2,64]}),(0,C.jsx)(`meshBasicMaterial`,{color:`#ff0080`,transparent:!0,opacity:.08,side:2})]}),d=(0,C.jsxs)(`mesh`,{position:[0,-.13,0],rotation:[-Math.PI/2,0,0],children:[(0,C.jsx)(`circleGeometry`,{args:[1.5,64]}),(0,C.jsx)(`meshBasicMaterial`,{color:`#ff0080`,transparent:!0,opacity:.1,side:2})]}),f=(0,C.jsx)(`pointLight`,{position:[0,-.6,0],intensity:.1,color:`#ff0080`,distance:10,decay:2}),p=(0,C.jsx)(`pointLight`,{position:[1.5,-.4,1.5],intensity:.05,color:`#ff0080`,distance:7,decay:2}),m=(0,C.jsx)(`pointLight`,{position:[-1.5,-.4,-1.5],intensity:.05,color:`#ff0080`,distance:7,decay:2}),t[0]=a,t[1]=o,t[2]=s,t[3]=c,t[4]=l,t[5]=u,t[6]=d,t[7]=f,t[8]=p,t[9]=m):(a=t[0],o=t[1],s=t[2],c=t[3],l=t[4],u=t[5],d=t[6],f=t[7],p=t[8],m=t[9]);let h;if(t[10]!==n||t[11]!==r){let e;t[13]===r?e=t[14]:(e=(e,t)=>e.map((e,n)=>{let i=(n-1)*1.1,a=(t-1)*1.1;return(0,C.jsx)(w,{position:[i,0,a],value:e,onClick:()=>r?.(t,n)},`${t}-${n}`)}),t[13]=r,t[14]=e),h=n.map(e),t[10]=n,t[11]=r,t[12]=h}else h=t[12];let g;t[15]===Symbol.for(`react.memo_cache_sentinel`)?(g=(0,C.jsx)(`gridHelper`,{args:[3.3,3,`#00d4ff`,`#1a508b`],position:[0,-.05,0]}),t[15]=g):g=t[15];let _=i??null,v;t[16]!==n||t[17]!==_?(v=(0,C.jsx)(E,{board:n,winner:_}),t[16]=n,t[17]=_,t[18]=v):v=t[18];let y;return t[19]!==h||t[20]!==v?(y=(0,C.jsxs)(`group`,{children:[a,o,s,c,l,u,d,f,p,m,h,g,v]}),t[19]=h,t[20]=v,t[21]=y):y=t[21],y};var k=e(a());const A=e=>{let t=(0,k.c)(4),{children:n,className:r}=e,i;t[0]===Symbol.for(`react.memo_cache_sentinel`)?(i={position:[0,5,8],fov:50},t[0]=i):i=t[0];let a;return t[1]!==n||t[2]!==r?(a=(0,C.jsx)(o,{className:r,camera:i,shadows:!0,children:n}),t[1]=n,t[2]=r,t[3]=a):a=t[3],a};var j=e(a());const M=e=>{let t=(0,j.c)(18),{size:n,divisions:r,color:i}=e,a=n===void 0?20:n,o=r===void 0?40:r,s=i===void 0?`#1a508b`:i,c;t[0]!==s||t[1]!==o||t[2]!==a?(c=[a,o,s,s],t[0]=s,t[1]=o,t[2]=a,t[3]=c):c=t[3];let l,u;t[4]===Symbol.for(`react.memo_cache_sentinel`)?(l=[0,-2,0],u=[0,0,0],t[4]=l,t[5]=u):(l=t[4],u=t[5]);let d;t[6]===c?d=t[7]:(d=(0,C.jsx)(`gridHelper`,{args:c,position:l,rotation:u}),t[6]=c,t[7]=d);let f,p;t[8]===Symbol.for(`react.memo_cache_sentinel`)?(f=[0,-2.01,0],p=[-Math.PI/2,0,0],t[8]=f,t[9]=p):(f=t[8],p=t[9]);let m;t[10]===a?m=t[11]:(m=(0,C.jsx)(`planeGeometry`,{args:[a,a]}),t[10]=a,t[11]=m);let h;t[12]===Symbol.for(`react.memo_cache_sentinel`)?(h=(0,C.jsx)(`meshStandardMaterial`,{color:`#0a1929`,metalness:.1,roughness:.9}),t[12]=h):h=t[12];let g;t[13]===m?g=t[14]:(g=(0,C.jsxs)(`mesh`,{position:f,rotation:p,receiveShadow:!0,children:[m,h]}),t[13]=m,t[14]=g);let _;return t[15]!==g||t[16]!==d?(_=(0,C.jsxs)(C.Fragment,{children:[d,g]}),t[15]=g,t[16]=d,t[17]=_):_=t[17],_};var N=e(a());const P=e=>{let t=(0,N.c)(14),{board:n,onCellClick:r,winner:a}=e,o,s,l,u,d,f,p;t[0]===Symbol.for(`react.memo_cache_sentinel`)?(o=(0,C.jsx)(`color`,{attach:`background`,args:[`#0a0e27`]}),s=(0,C.jsx)(c,{radius:50,depth:50,count:1e3,factor:2,saturation:0,fade:!0,speed:.5}),l=(0,C.jsx)(`ambientLight`,{intensity:.4}),u=(0,C.jsx)(`directionalLight`,{position:[5,10,5],intensity:.8,color:`#5bc0de`,castShadow:!0,"shadow-mapSize-width":1024,"shadow-mapSize-height":1024}),d=(0,C.jsx)(`pointLight`,{position:[-5,5,-5],intensity:.6,color:`#e84393`}),f=(0,C.jsx)(`pointLight`,{position:[5,3,5],intensity:.4,color:`#00b894`}),p=(0,C.jsx)(M,{}),t[0]=o,t[1]=s,t[2]=l,t[3]=u,t[4]=d,t[5]=f,t[6]=p):(o=t[0],s=t[1],l=t[2],u=t[3],d=t[4],f=t[5],p=t[6]);let m;t[7]!==n||t[8]!==r||t[9]!==a?(m=(0,C.jsx)(O,{board:n,onCellClick:r,winner:a}),t[7]=n,t[8]=r,t[9]=a,t[10]=m):m=t[10];let h;t[11]===Symbol.for(`react.memo_cache_sentinel`)?(h=(0,C.jsx)(i,{enablePan:!1,minPolarAngle:Math.PI/6,maxPolarAngle:Math.PI/2.5,minDistance:6,maxDistance:12}),t[11]=h):h=t[11];let g;return t[12]===m?g=t[13]:(g=(0,C.jsxs)(A,{className:`game-scene`,children:[o,s,l,u,d,f,p,m,h]}),t[12]=m,t[13]=g),g};var F={button:`_button_hwlib_1`,primary:`_primary_hwlib_36`,secondary:`_secondary_hwlib_48`},I=e(a());const L=e=>{let t=(0,I.c)(5),{children:n,onClick:r,variant:i,disabled:a,className:o}=e,s=i===void 0?`primary`:i,c=a===void 0?!1:a,l=o===void 0?``:o,u=`${F.button} ${(()=>{switch(s){case`primary`:return F.primary;case`secondary`:return F.secondary;default:return F.primary}})()} ${l}`,d;return t[0]!==n||t[1]!==c||t[2]!==r||t[3]!==u?(d=(0,C.jsx)(`button`,{className:u,onClick:r,disabled:c,children:n}),t[0]=n,t[1]=c,t[2]=r,t[3]=u,t[4]=d):d=t[4],d};var R={overlay:`_overlay_fz9dn_1`,container:`_container_fz9dn_12`,fadeIn:`_fadeIn_fz9dn_1`,title:`_title_fz9dn_29`,subtitle:`_subtitle_fz9dn_43`,menu:`_menu_fz9dn_51`,info:`_info_fz9dn_58`},z=e(a());const B=e=>{let t=(0,z.c)(12),{onGameModeSelect:n}=e,r,i;t[0]===Symbol.for(`react.memo_cache_sentinel`)?(r=(0,C.jsx)(`h1`,{className:R.title,children:`TICK-TACK`}),i=(0,C.jsx)(`p`,{className:R.subtitle,children:`Крестики-нолики в 8-bit стиле`}),t[0]=r,t[1]=i):(r=t[0],i=t[1]);let a;t[2]===n?a=t[3]:(a=(0,C.jsx)(L,{variant:`primary`,onClick:()=>n(`vs-bot`),children:`🤖 Играть с ботом`}),t[2]=n,t[3]=a);let o;t[4]===n?o=t[5]:(o=(0,C.jsx)(L,{variant:`secondary`,onClick:()=>n(`vs-friend`),children:`👥 Играть с другом`}),t[4]=n,t[5]=o);let s;t[6]!==a||t[7]!==o?(s=(0,C.jsxs)(`div`,{className:R.menu,children:[a,o]}),t[6]=a,t[7]=o,t[8]=s):s=t[8];let c;t[9]===Symbol.for(`react.memo_cache_sentinel`)?(c=(0,C.jsxs)(`div`,{className:R.info,children:[(0,C.jsx)(`p`,{children:`Используйте мышь для навигации по 3D сцене`}),(0,C.jsx)(`p`,{children:`Кликните по клетке, чтобы сделать ход`})]}),t[9]=c):c=t[9];let l;return t[10]===s?l=t[11]:(l=(0,C.jsx)(`div`,{className:R.overlay,children:(0,C.jsxs)(`div`,{className:R.container,children:[r,i,s,c]})}),t[10]=s,t[11]=l),l};var V={overlay:`_overlay_gta7e_1`,container:`_container_gta7e_12`,fadeIn:`_fadeIn_gta7e_1`,title:`_title_gta7e_29`,subtitle:`_subtitle_gta7e_42`,difficultyList:`_difficultyList_gta7e_49`,difficultyItem:`_difficultyItem_gta7e_59`,selected:`_selected_gta7e_76`,difficultyLabel:`_difficultyLabel_gta7e_82`,difficultyDescription:`_difficultyDescription_gta7e_89`,buttons:`_buttons_gta7e_94`,confirmButton:`_confirmButton_gta7e_101`,backButton:`_backButton_gta7e_105`},H=e(a());const U=e=>{let t=(0,H.c)(16),{selectedDifficulty:n,onDifficultyChange:r,onConfirm:i,onBack:a}=e,o;t[0]===Symbol.for(`react.memo_cache_sentinel`)?(o=[{value:`easy`,label:`🟢 Легкий`,description:`70% случайных ходов`},{value:`medium`,label:`🟡 Средний`,description:`30% случайных ходов`},{value:`hard`,label:`🔴 Сложный`,description:`100% оптимальных ходов`}],t[0]=o):o=t[0];let s=o,c,l;t[1]===Symbol.for(`react.memo_cache_sentinel`)?(c=(0,C.jsx)(`h1`,{className:V.title,children:`Выберите сложность`}),l=(0,C.jsx)(`p`,{className:V.subtitle,children:`Насколько умным должен быть бот?`}),t[1]=c,t[2]=l):(c=t[1],l=t[2]);let u;t[3]!==r||t[4]!==n?(u=(0,C.jsx)(`div`,{className:V.difficultyList,children:s.map(e=>(0,C.jsxs)(`button`,{className:`${V.difficultyItem} ${n===e.value?V.selected:``}`,onClick:()=>r(e.value),children:[(0,C.jsx)(`div`,{className:V.difficultyLabel,children:e.label}),(0,C.jsx)(`div`,{className:V.difficultyDescription,children:e.description})]},e.value))}),t[3]=r,t[4]=n,t[5]=u):u=t[5];let d;t[6]===i?d=t[7]:(d=(0,C.jsx)(L,{variant:`primary`,onClick:i,className:V.confirmButton,children:`Начать игру`}),t[6]=i,t[7]=d);let f;t[8]===a?f=t[9]:(f=(0,C.jsx)(L,{variant:`secondary`,onClick:a,className:V.backButton,children:`← Назад`}),t[8]=a,t[9]=f);let p;t[10]!==d||t[11]!==f?(p=(0,C.jsxs)(`div`,{className:V.buttons,children:[d,f]}),t[10]=d,t[11]=f,t[12]=p):p=t[12];let m;return t[13]!==u||t[14]!==p?(m=(0,C.jsx)(`div`,{className:V.overlay,children:(0,C.jsxs)(`div`,{className:V.container,children:[c,l,u,p]})}),t[13]=u,t[14]=p,t[15]=m):m=t[15],m};var W={gameInfo:`_gameInfo_exp1s_1`,gameMode:`_gameMode_exp1s_14`,currentPlayer:`_currentPlayer_exp1s_21`,playerSymbol:`_playerSymbol_exp1s_26`,backButton:`_backButton_exp1s_31`};const G=()=>{let[e,t]=(0,u.useState)(`menu`),[n,r]=(0,u.useState)(null),[i,a]=(0,u.useState)(`medium`),[o,s]=(0,u.useState)([[null,null,null],[null,null,null],[null,null,null]]),[c,l]=(0,u.useState)(`X`),[d,m]=(0,u.useState)(null),[h,y]=(0,u.useState)(!1),b=e=>{r(e),e===`vs-bot`?t(`select-difficulty`):(t(`playing`),x())},x=()=>{s([[null,null,null],[null,null,null],[null,null,null]]),l(`X`),m(null),y(!1)},S=()=>{t(`playing`),x()},w=()=>{t(`menu`),r(null),m(null),y(!1)},T=()=>{t(`menu`)},E=(e,t,n,r)=>{let i=e.map((e,i)=>e.map((e,a)=>i===t&&a===n?r:e));return s(i),i},D=e=>{let n=f(e);return n?(m(n),t(`game-over`),!0):p(e)?(m(`draw`),t(`game-over`),!0):!1},O=e=>{y(!0),setTimeout(()=>{try{let t;switch(i){case`easy`:t=_(e);break;case`medium`:t=v(e);break;case`hard`:t=g(e,`O`);break;default:t=v(e)}let n=E(e,t.row,t.col,`O`);D(n)||l(`X`)}catch{console.log({error:`Нет доступных ходов для бота`})}finally{y(!1)}},500+Math.random()*1e3)};return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(`div`,{style:{width:`100vw`,height:`100vh`},children:(0,C.jsx)(P,{board:o,onCellClick:(t,r)=>{if(o[t][r]!==null||e!==`playing`||h||n===`vs-bot`&&c===`O`)return;let i=E(o,t,r,c);D(i)||(n===`vs-bot`?(l(`O`),O(i)):l(c===`X`?`O`:`X`))},winner:d===`draw`?null:d})}),e===`menu`&&(0,C.jsx)(B,{onGameModeSelect:b}),e===`select-difficulty`&&(0,C.jsx)(U,{selectedDifficulty:i,onDifficultyChange:a,onConfirm:S,onBack:T}),e===`playing`&&(0,C.jsxs)(`div`,{className:W.gameInfo,children:[(0,C.jsx)(`h2`,{className:W.gameMode,children:n===`vs-bot`?`🤖 Против бота (${i})`:`👥 Против друга`}),h?(0,C.jsx)(`p`,{className:W.currentPlayer,children:`Бот размышляет...`}):(0,C.jsxs)(`p`,{className:W.currentPlayer,children:[`Ход игрока:`,` `,(0,C.jsx)(`span`,{className:W.playerSymbol,children:c})]}),(0,C.jsx)(`button`,{onClick:w,className:W.backButton,children:`← Назад в меню`})]}),e===`game-over`&&(0,C.jsxs)(`div`,{className:W.gameInfo,children:[(0,C.jsx)(`h2`,{className:W.gameMode,children:d===`draw`?`🤝 Ничья!`:`🏆 Победитель: ${d}`}),(0,C.jsx)(`button`,{onClick:()=>{n===`vs-bot`?t(`select-difficulty`):(t(`playing`),x())},className:W.backButton,children:`🔄 Новая игра`}),(0,C.jsx)(`button`,{onClick:w,className:W.backButton,children:`← Назад в меню`})]})]})};var K=e(a());function q(){let e=(0,K.c)(1),t;return e[0]===Symbol.for(`react.memo_cache_sentinel`)?(t=(0,C.jsx)(G,{}),e[0]=t):t=e[0],t}var J=q;(0,l.createRoot)(document.getElementById(`root`)).render((0,C.jsx)(u.StrictMode,{children:(0,C.jsx)(J,{})}));